---
title: Local Testing
description: How to test @nubase/cli locally during development without publishing to npm.
---

During development, you'll want to test the CLI locally before publishing. This guide covers the convenience scripts available in the root `package.json`.

## Testing `@nubase/cli`

The `npm run cli` script builds the CLI from local source and runs it from within `apps/nubase/`, where the `nubase/nubase.config.ts` file is located.

### How it works

```bash
npm run cli -- <command>
```

This does two things:

1. Builds `@nubase/cli` from `packages/cli/` source
2. Runs the built CLI from `apps/nubase/` so it finds the nubase config

### Convenience scripts

| Script | Equivalent |
|--------|------------|
| `npm run cli:envs` | `npm run cli -- envs` |
| `npm run cli:db:diff` | `npm run cli -- db diff` |
| `npm run cli:db:pull` | `npm run cli -- db pull` |
| `npm run cli:db:push` | `npm run cli -- db push` |
| `npm run cli:db:reset` | `npm run cli -- db reset` |
| `npm run cli:init` | `npm run cli -- init` |

### Passing extra flags

Append flags after `--`:

```bash
npm run cli:db:diff -- --env production
npm run cli:db:push -- --dry-run
npm run cli:db:diff -- -f add_users_table
```

### Why it runs from `apps/nubase/`

The CLI walks up from the current working directory to find `nubase/nubase.config.ts`. Running from `apps/nubase/` ensures it discovers the nubase configuration, which defines the local and production database environments.
